import{c as ne,a as oe,r as Y,j as t,L as q,b as ce,H as xe}from"./app-DoBQ9iRf.js";import{C as me,A as ge}from"./app-layout-Cu4XSLha.js";import{P as he,T as Z}from"./trash-2-B3sT5NkO.js";import{P as ee}from"./plus-B4OxczmW.js";import{C as be}from"./chevron-left-4WmuaPRm.js";/* empty css            */import"./button-FfUE5r2K.js";import"./index-DM42E6gr.js";import"./index-BahMYkI8.js";import"./index-BM-4ZJHN.js";import"./tag-DbOjnTFU.js";const pe=[{title:"Incomes",href:"#"}];function Pe(){const e=ne.c(70),te=oe().props,{incomes:a,filters:j}=te,G=j.start_date||"",J=j.end_date||"",K=j.sort_by||"income_date",M=j.sort_order||"desc";let k;e[0]!==G||e[1]!==J||e[2]!==K||e[3]!==M?(k={start_date:G,end_date:J,sort_by:K,sort_order:M},e[0]=G,e[1]=J,e[2]=K,e[3]=M,e[4]=k):k=e[4];const[r,re]=Y.useState(k);let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_={isOpen:!1,id:null,title:"",isDeleting:!1},e[5]=_):_=e[5];const[l,u]=Y.useState(_);let w;e[6]===Symbol.for("react.memo_cache_sentinel")?(w=s=>{const{name:X,value:ie}=s.target;re(de=>({...de,[X]:ie}))},e[6]=w):w=e[6];const N=w;let v;e[7]!==r.end_date||e[8]!==r.sort_by||e[9]!==r.sort_order||e[10]!==r.start_date?(v=()=>{const s=new URLSearchParams;r.start_date&&s.append("start_date",r.start_date),r.end_date&&s.append("end_date",r.end_date),s.append("sort_by",r.sort_by),s.append("sort_order",r.sort_order),window.location.href=`/incomes?${s.toString()}`},e[7]=r.end_date,e[8]=r.sort_by,e[9]=r.sort_order,e[10]=r.start_date,e[11]=v):v=e[11];const Q=v,se=ue;let S;e[12]===Symbol.for("react.memo_cache_sentinel")?(S=(s,X)=>{u({isOpen:!0,id:s,title:X,isDeleting:!1})},e[12]=S):S=e[12];const ae=S;let D;e[13]!==l.id?(D=()=>{l.id!==null&&(u(fe),ce.delete(`/incomes/${l.id}`,{onSuccess:()=>{u({isOpen:!1,id:null,title:"",isDeleting:!1})},onError:()=>{u(ye)}}))},e[13]=l.id,e[14]=D):D=e[14];const W=D;let C;e[15]===Symbol.for("react.memo_cache_sentinel")?(C=()=>{u({isOpen:!1,id:null,title:"",isDeleting:!1})},e[15]=C):C=e[15];const le=C;let A;e[16]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(xe,{title:"Incomes"}),e[16]=A):A=e[16];let O;e[17]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Incomes"}),t.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Record and manage your income sources"})]}),e[17]=O):O=e[17];let P;e[18]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("div",{className:"mb-6 sm:mb-8",children:t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[O,t.jsxs(q,{href:"/incomes/create",className:"inline-flex items-center justify-center gap-2 rounded-xl bg-emerald-600 hover:bg-emerald-700 px-4 sm:px-6 py-2.5 sm:py-3 text-sm font-semibold text-white transition-colors",children:[t.jsx(ee,{className:"h-5 w-5"}),"Add Income"]})]})}),e[18]=P):P=e[18];let R;e[19]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2",children:"From"}),e[19]=R):R=e[19];let i;e[20]!==r.start_date?(i=t.jsxs("div",{children:[R,t.jsx("input",{type:"date",name:"start_date",value:r.start_date,onChange:N,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 sm:px-4 py-2 text-sm text-gray-900 dark:text-white placeholder-gray-400 transition-colors focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20"})]}),e[20]=r.start_date,e[21]=i):i=e[21];let L;e[22]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2",children:"To"}),e[22]=L):L=e[22];let d;e[23]!==r.end_date?(d=t.jsxs("div",{children:[L,t.jsx("input",{type:"date",name:"end_date",value:r.end_date,onChange:N,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 sm:px-4 py-2 text-sm text-gray-900 dark:text-white placeholder-gray-400 transition-colors focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20"})]}),e[23]=r.end_date,e[24]=d):d=e[24];let I;e[25]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2",children:"Sort By"}),e[25]=I):I=e[25];let F,T,$;e[26]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("option",{value:"income_date",children:"Date"}),T=t.jsx("option",{value:"amount",children:"Amount"}),$=t.jsx("option",{value:"title",children:"Title"}),e[26]=F,e[27]=T,e[28]=$):(F=e[26],T=e[27],$=e[28]);let n;e[29]!==r.sort_by?(n=t.jsxs("div",{children:[I,t.jsxs("select",{name:"sort_by",value:r.sort_by,onChange:N,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 sm:px-4 py-2 text-sm text-gray-900 dark:text-white transition-colors focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20",children:[F,T,$]})]}),e[29]=r.sort_by,e[30]=n):n=e[30];let E;e[31]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2",children:"Order"}),e[31]=E):E=e[31];let U,H;e[32]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx("option",{value:"desc",children:"Newest"}),H=t.jsx("option",{value:"asc",children:"Oldest"}),e[32]=U,e[33]=H):(U=e[32],H=e[33]);let o;e[34]!==r.sort_order?(o=t.jsxs("div",{children:[E,t.jsxs("select",{name:"sort_order",value:r.sort_order,onChange:N,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 sm:px-4 py-2 text-sm text-gray-900 dark:text-white transition-colors focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20",children:[U,H]})]}),e[34]=r.sort_order,e[35]=o):o=e[35];let c;e[36]!==i||e[37]!==d||e[38]!==n||e[39]!==o?(c=t.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[i,d,n,o]}),e[36]=i,e[37]=d,e[38]=n,e[39]=o,e[40]=c):c=e[40];let x;e[41]!==Q?(x=t.jsx("button",{onClick:Q,className:"inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 px-4 py-2 text-sm font-semibold text-white transition-colors flex-1 sm:flex-none",children:"Apply"}),e[41]=Q,e[42]=x):x=e[42];let V;e[43]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("button",{onClick:se,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 px-4 py-2 text-sm font-semibold text-gray-900 dark:text-white transition-colors flex-1 sm:flex-none",children:"Reset"}),e[43]=V):V=e[43];let m;e[44]!==x?(m=t.jsxs("div",{className:"mt-4 sm:mt-6 flex flex-col sm:flex-row flex-wrap gap-3",children:[x,V]}),e[44]=x,e[45]=m):m=e[45];let g;e[46]!==c||e[47]!==m?(g=t.jsxs("div",{className:"mb-8 rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800/50 backdrop-blur p-4 sm:p-6 shadow-sm",children:[c,m]}),e[46]=c,e[47]=m,e[48]=g):g=e[48];let z;e[49]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/80",children:[t.jsx("th",{className:"px-4 sm:px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-gray-300 uppercase tracking-wider",children:"Title"}),t.jsx("th",{className:"hidden sm:table-cell px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-gray-300 uppercase tracking-wider",children:"Source"}),t.jsx("th",{className:"px-4 sm:px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"hidden md:table-cell px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"hidden lg:table-cell px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-gray-300 uppercase tracking-wider",children:"Description"}),t.jsx("th",{className:"px-4 sm:px-6 py-4 text-center text-xs font-semibold text-gray-900 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e[49]=z):z=e[49];let h;e[50]!==a.data?(h=a.data&&a.data.length>0?a.data.map(s=>t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[t.jsx("td",{className:"px-4 sm:px-6 py-4",children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:s.title})}),t.jsx("td",{className:"hidden sm:table-cell px-6 py-4",children:t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.source||"—"})}),t.jsx("td",{className:"px-4 sm:px-6 py-4",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["₱",parseFloat(String(s.amount)).toFixed(2)]})}),t.jsx("td",{className:"hidden md:table-cell px-6 py-4",children:t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(s.income_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})}),t.jsx("td",{className:"hidden lg:table-cell px-6 py-4",children:t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 truncate max-w-xs",children:s.description||"—"})}),t.jsx("td",{className:"px-4 sm:px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(q,{href:`/incomes/${s.id}/edit`,className:"inline-flex items-center justify-center p-2 rounded-lg text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"Edit",children:t.jsx(he,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>ae(s.id,s.title),className:"inline-flex items-center justify-center p-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete",children:t.jsx(Z,{className:"h-4 w-4"})})]})})]},s.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 sm:px-6 py-16 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:t.jsx(ee,{className:"h-6 w-6 text-gray-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"No incomes yet"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add your first income to track your savings"})]})]})})}),e[50]=a.data,e[51]=h):h=e[51];let b;e[52]!==h?(b=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[z,t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:h})]})}),e[52]=h,e[53]=b):b=e[53];let p;e[54]!==r||e[55]!==a.current_page||e[56]!==a.last_page?(p=a.last_page>1&&t.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 px-4 sm:px-6 py-4 flex flex-col sm:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:["Page ",t.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:a.current_page})," of ",t.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:a.last_page})]}),t.jsxs("div",{className:"flex gap-2",children:[a.current_page>1&&t.jsx(q,{href:`/incomes?${new URLSearchParams({...r,page:(a.current_page-1).toString()}).toString()}`,className:"inline-flex items-center justify-center p-2 rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-gray-600 dark:text-gray-400",children:t.jsx(be,{className:"h-5 w-5"})}),a.current_page<a.last_page&&t.jsx(q,{href:`/incomes?${new URLSearchParams({...r,page:(a.current_page+1).toString()}).toString()}`,className:"inline-flex items-center justify-center p-2 rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-gray-600 dark:text-gray-400",children:t.jsx(me,{className:"h-5 w-5"})})]})]}),e[54]=r,e[55]=a.current_page,e[56]=a.last_page,e[57]=p):p=e[57];let y;e[58]!==b||e[59]!==p?(y=t.jsxs("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800/50 backdrop-blur overflow-hidden shadow-sm",children:[b,p]}),e[58]=b,e[59]=p,e[60]=y):y=e[60];let f;e[61]!==W||e[62]!==l.isDeleting||e[63]!==l.isOpen||e[64]!==l.title?(f=l.isOpen&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-sm w-full animate-in fade-in scale-95 duration-200",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/20 mx-auto mb-4",children:t.jsx(Z,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white text-center mb-2",children:"Delete Income?"}),t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center mb-6",children:["Are you sure you want to delete ",t.jsxs("strong",{children:['"',l.title,'"']}),"? This action cannot be undone."]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:le,disabled:l.isDeleting,className:"flex-1 inline-flex items-center justify-center rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 px-4 py-2.5 text-sm font-semibold text-gray-900 dark:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),t.jsx("button",{onClick:W,disabled:l.isDeleting,className:"flex-1 inline-flex items-center justify-center rounded-lg bg-red-600 hover:bg-red-700 px-4 py-2.5 text-sm font-semibold text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.isDeleting?"Deleting...":"Delete"})]})]})})}),e[61]=W,e[62]=l.isDeleting,e[63]=l.isOpen,e[64]=l.title,e[65]=f):f=e[65];let B;return e[66]!==g||e[67]!==y||e[68]!==f?(B=t.jsxs(ge,{breadcrumbs:pe,children:[A,t.jsx("div",{className:"py-6 sm:py-8",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[P,g,y,f]})})]}),e[66]=g,e[67]=y,e[68]=f,e[69]=B):B=e[69],B}function ye(e){return{...e,isDeleting:!1}}function fe(e){return{...e,isDeleting:!0}}function ue(){window.location.href="/incomes"}export{Pe as default};
