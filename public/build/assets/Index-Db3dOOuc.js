import{c as ye,a as he,r as le,j as t,L as Q,b as be,H as fe}from"./app-DoBQ9iRf.js";import{C as ue,A as je}from"./app-layout-Cu4XSLha.js";import{P as _e,T as ie}from"./trash-2-B3sT5NkO.js";import{P as ne}from"./plus-B4OxczmW.js";import{C as ke}from"./chevron-left-4WmuaPRm.js";/* empty css            */import"./button-FfUE5r2K.js";import"./index-DM42E6gr.js";import"./index-BahMYkI8.js";import"./index-BM-4ZJHN.js";import"./tag-DbOjnTFU.js";const we=[{title:"Expenses",href:"#"}];function Ue(){const e=ye.c(80),N=he().props,{expenses:a,categories:W,filters:_}=N,X=_.start_date||"",Y=_.end_date||"",Z=String(_.category_id||""),ee=_.sort_by||"expense_date",te=_.sort_order||"desc";let v;e[0]!==X||e[1]!==Y||e[2]!==Z||e[3]!==ee||e[4]!==te?(v={start_date:X,end_date:Y,category_id:Z,sort_by:ee,sort_order:te},e[0]=X,e[1]=Y,e[2]=Z,e[3]=ee,e[4]=te,e[5]=v):v=e[5];const[r,de]=le.useState(v);let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S={isOpen:!1,expenseId:null,expenseTitle:"",isDeleting:!1},e[6]=S):S=e[6];const[l,k]=le.useState(S);let D;e[7]===Symbol.for("react.memo_cache_sentinel")?(D=s=>{const{name:ae,value:ge}=s.target;de(pe=>({...pe,[ae]:ge}))},e[7]=D):D=e[7];const w=D;let C;e[8]!==r.category_id||e[9]!==r.end_date||e[10]!==r.sort_by||e[11]!==r.sort_order||e[12]!==r.start_date?(C=()=>{const s=new URLSearchParams;r.start_date&&s.append("start_date",r.start_date),r.end_date&&s.append("end_date",r.end_date),r.category_id&&s.append("category_id",r.category_id),s.append("sort_by",r.sort_by),s.append("sort_order",r.sort_order),window.location.href=`/expenses?${s.toString()}`},e[8]=r.category_id,e[9]=r.end_date,e[10]=r.sort_by,e[11]=r.sort_order,e[12]=r.start_date,e[13]=C):C=e[13];const re=C,oe=De;let T;e[14]===Symbol.for("react.memo_cache_sentinel")?(T=(s,ae)=>{k({isOpen:!0,expenseId:s,expenseTitle:ae,isDeleting:!1})},e[14]=T):T=e[14];const ce=T;let E;e[15]!==l.expenseId?(E=()=>{l.expenseId!==null&&(k(Se),be.delete(`/expenses/${l.expenseId}`,{onSuccess:()=>{k({isOpen:!1,expenseId:null,expenseTitle:"",isDeleting:!1})},onError:()=>{k(ve)}}))},e[15]=l.expenseId,e[16]=E):E=e[16];const se=E;let O;e[17]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{k({isOpen:!1,expenseId:null,expenseTitle:"",isDeleting:!1})},e[17]=O):O=e[17];const xe=O;let A;e[18]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(fe,{title:"Expenses"}),e[18]=A):A=e[18];let I;e[19]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Expenses"}),t.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Manage and track all your spending"})]}),e[19]=I):I=e[19];let L;e[20]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("div",{className:"mb-6 sm:mb-8",children:t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[I,t.jsxs(Q,{href:"/expenses/create",className:"inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 hover:bg-indigo-700 px-4 sm:px-6 py-2.5 sm:py-3 text-sm font-semibold text-white transition-colors",children:[t.jsx(ne,{className:"h-5 w-5"}),"Add Expense"]})]})}),e[20]=L):L=e[20];let P;e[21]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2",children:"From"}),e[21]=P):P=e[21];let i;e[22]!==r.start_date?(i=t.jsxs("div",{children:[P,t.jsx("input",{type:"date",name:"start_date",value:r.start_date,onChange:w,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 sm:px-4 py-2 text-sm text-gray-900 dark:text-white placeholder-gray-400 transition-colors focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20"})]}),e[22]=r.start_date,e[23]=i):i=e[23];let R;e[24]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2",children:"To"}),e[24]=R):R=e[24];let n;e[25]!==r.end_date?(n=t.jsxs("div",{children:[R,t.jsx("input",{type:"date",name:"end_date",value:r.end_date,onChange:w,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 sm:px-4 py-2 text-sm text-gray-900 dark:text-white placeholder-gray-400 transition-colors focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20"})]}),e[25]=r.end_date,e[26]=n):n=e[26];let F;e[27]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2",children:"Category"}),e[27]=F):F=e[27];const me=r.category_id;let $;e[28]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("option",{value:"",children:"All Categories"}),e[28]=$):$=e[28];let d;e[29]!==W?(d=Object.entries(W).map(Ne),e[29]=W,e[30]=d):d=e[30];let o;e[31]!==r.category_id||e[32]!==d?(o=t.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[F,t.jsxs("select",{name:"category_id",value:me,onChange:w,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 sm:px-4 py-2 text-sm text-gray-900 dark:text-white transition-colors focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20",children:[$,d]})]}),e[31]=r.category_id,e[32]=d,e[33]=o):o=e[33];let U;e[34]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2",children:"Sort By"}),e[34]=U):U=e[34];let H,V,z;e[35]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("option",{value:"expense_date",children:"Date"}),V=t.jsx("option",{value:"amount",children:"Amount"}),z=t.jsx("option",{value:"title",children:"Title"}),e[35]=H,e[36]=V,e[37]=z):(H=e[35],V=e[36],z=e[37]);let c;e[38]!==r.sort_by?(c=t.jsxs("div",{children:[U,t.jsxs("select",{name:"sort_by",value:r.sort_by,onChange:w,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 sm:px-4 py-2 text-sm text-gray-900 dark:text-white transition-colors focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20",children:[H,V,z]})]}),e[38]=r.sort_by,e[39]=c):c=e[39];let B;e[40]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2",children:"Order"}),e[40]=B):B=e[40];let G,M;e[41]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("option",{value:"desc",children:"Newest"}),M=t.jsx("option",{value:"asc",children:"Oldest"}),e[41]=G,e[42]=M):(G=e[41],M=e[42]);let x;e[43]!==r.sort_order?(x=t.jsxs("div",{children:[B,t.jsxs("select",{name:"sort_order",value:r.sort_order,onChange:w,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 sm:px-4 py-2 text-sm text-gray-900 dark:text-white transition-colors focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20",children:[G,M]})]}),e[43]=r.sort_order,e[44]=x):x=e[44];let m;e[45]!==i||e[46]!==n||e[47]!==o||e[48]!==c||e[49]!==x?(m=t.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-5",children:[i,n,o,c,x]}),e[45]=i,e[46]=n,e[47]=o,e[48]=c,e[49]=x,e[50]=m):m=e[50];let g;e[51]!==re?(g=t.jsx("button",{onClick:re,className:"inline-flex items-center justify-center gap-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 px-4 py-2 text-sm font-semibold text-white transition-colors flex-1 sm:flex-none",children:"Apply"}),e[51]=re,e[52]=g):g=e[52];let q;e[53]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx("button",{onClick:oe,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 px-4 py-2 text-sm font-semibold text-gray-900 dark:text-white transition-colors flex-1 sm:flex-none",children:"Reset"}),e[53]=q):q=e[53];let p;e[54]!==g?(p=t.jsxs("div",{className:"mt-4 sm:mt-6 flex flex-col sm:flex-row flex-wrap gap-3",children:[g,q]}),e[54]=g,e[55]=p):p=e[55];let y;e[56]!==m||e[57]!==p?(y=t.jsxs("div",{className:"mb-8 rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800/50 backdrop-blur p-4 sm:p-6 shadow-sm",children:[m,p]}),e[56]=m,e[57]=p,e[58]=y):y=e[58];let J;e[59]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/80",children:[t.jsx("th",{className:"px-4 sm:px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-gray-300 uppercase tracking-wider",children:"Title"}),t.jsx("th",{className:"hidden sm:table-cell px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-gray-300 uppercase tracking-wider",children:"Category"}),t.jsx("th",{className:"px-4 sm:px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"hidden md:table-cell px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"hidden lg:table-cell px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-gray-300 uppercase tracking-wider",children:"Description"}),t.jsx("th",{className:"px-4 sm:px-6 py-4 text-center text-xs font-semibold text-gray-900 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e[59]=J):J=e[59];let h;e[60]!==a.data?(h=a.data&&a.data.length>0?a.data.map(s=>t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[t.jsxs("td",{className:"px-4 sm:px-6 py-4",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:s.title}),t.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 sm:hidden",children:new Date(s.expense_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),t.jsx("td",{className:"hidden sm:table-cell px-6 py-4",children:t.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-medium text-white",style:{backgroundColor:s.category.color},children:s.category.name})}),t.jsx("td",{className:"px-4 sm:px-6 py-4",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["₱",parseFloat(String(s.amount)).toFixed(2)]})}),t.jsx("td",{className:"hidden md:table-cell px-6 py-4",children:t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(s.expense_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})}),t.jsx("td",{className:"hidden lg:table-cell px-6 py-4",children:t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 truncate max-w-xs",children:s.description||"—"})}),t.jsx("td",{className:"px-4 sm:px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(Q,{href:`/expenses/${s.id}/edit`,className:"inline-flex items-center justify-center p-2 rounded-lg text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"Edit",children:t.jsx(_e,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>ce(s.id,s.title),className:"inline-flex items-center justify-center p-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete",children:t.jsx(ie,{className:"h-4 w-4"})})]})})]},s.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 sm:px-6 py-16 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:t.jsx(ne,{className:"h-6 w-6 text-gray-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"No expenses yet"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Get started by creating your first expense"})]})]})})}),e[60]=a.data,e[61]=h):h=e[61];let b;e[62]!==h?(b=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[J,t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:h})]})}),e[62]=h,e[63]=b):b=e[63];let f;e[64]!==a.current_page||e[65]!==a.last_page||e[66]!==r?(f=a.last_page>1&&t.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 px-4 sm:px-6 py-4 flex flex-col sm:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:["Page ",t.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:a.current_page})," of ",t.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:a.last_page})]}),t.jsxs("div",{className:"flex gap-2",children:[a.current_page>1&&t.jsx(Q,{href:`/expenses?${new URLSearchParams({...r,page:(a.current_page-1).toString()}).toString()}`,className:"inline-flex items-center justify-center p-2 rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-gray-600 dark:text-gray-400",children:t.jsx(ke,{className:"h-5 w-5"})}),a.current_page<a.last_page&&t.jsx(Q,{href:`/expenses?${new URLSearchParams({...r,page:(a.current_page+1).toString()}).toString()}`,className:"inline-flex items-center justify-center p-2 rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-gray-600 dark:text-gray-400",children:t.jsx(ue,{className:"h-5 w-5"})})]})]}),e[64]=a.current_page,e[65]=a.last_page,e[66]=r,e[67]=f):f=e[67];let u;e[68]!==b||e[69]!==f?(u=t.jsxs("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800/50 backdrop-blur overflow-hidden shadow-sm",children:[b,f]}),e[68]=b,e[69]=f,e[70]=u):u=e[70];let j;e[71]!==se||e[72]!==l.expenseTitle||e[73]!==l.isDeleting||e[74]!==l.isOpen?(j=l.isOpen&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-sm w-full animate-in fade-in scale-95 duration-200",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/20 mx-auto mb-4",children:t.jsx(ie,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white text-center mb-2",children:"Delete Expense?"}),t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center mb-6",children:["Are you sure you want to delete ",t.jsxs("strong",{children:['"',l.expenseTitle,'"']}),"? This action cannot be undone."]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:xe,disabled:l.isDeleting,className:"flex-1 inline-flex items-center justify-center rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 px-4 py-2.5 text-sm font-semibold text-gray-900 dark:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),t.jsx("button",{onClick:se,disabled:l.isDeleting,className:"flex-1 inline-flex items-center justify-center rounded-lg bg-red-600 hover:bg-red-700 px-4 py-2.5 text-sm font-semibold text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.isDeleting?"Deleting...":"Delete"})]})]})})}),e[71]=se,e[72]=l.expenseTitle,e[73]=l.isDeleting,e[74]=l.isOpen,e[75]=j):j=e[75];let K;return e[76]!==y||e[77]!==u||e[78]!==j?(K=t.jsxs(je,{breadcrumbs:we,children:[A,t.jsx("div",{className:"py-6 sm:py-8",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[L,y,u,j]})})]}),e[76]=y,e[77]=u,e[78]=j,e[79]=K):K=e[79],K}function Ne(e){const[N,a]=e;return t.jsx("option",{value:N,children:a},N)}function ve(e){return{...e,isDeleting:!1}}function Se(e){return{...e,isDeleting:!0}}function De(){window.location.href="/expenses"}export{Ue as default};
